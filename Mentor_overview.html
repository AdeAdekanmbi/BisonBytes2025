<!DOCTYPE html>
<!--
  Spectral by HTML5 UP
  html5up.net | @ajlkn
  Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <title>MoneyMind Smart Dashboard</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="assets/css/noscript.css"
    /></noscript>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
      .chat-box {
        background: #f4f4f4;
        border-radius: 8px;
        padding: 2em;
        margin-top: 2em;
        margin-bottom: 3em;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .chat-history {
        max-height: 300px;
        overflow-y: auto;
        background: #fff;
        border-radius: 6px;
        padding: 1em;
        border: 1px solid #ddd;
        margin-bottom: 1.5em;
      }
      .chat-message {
        margin-bottom: 0.75em;
      }
      .chat-message.user {
        font-weight: bold;
        color: #ee711e;
      }
      .chat-message.model {
        font-style: italic;
        color: #333;
      }
    </style>
  </head>
  <body class="is-preload">
    <div id="page-wrapper">
      <header id="header">
        <h1><a href="index.html">MoneyMind</a></h1>
        <nav id="nav">
          <ul>
            <li class="special">
              <a href="#menu" class="menuToggle"><span>Menu</span></a>
              <div id="menu">
                <ul>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="marketplace.html">Marketplace</a></li>
                  <li><a href="#">Sign Up</a></li>
                  <li><a href="#">Log In</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </nav>
      </header>

      <article id="main">
        <header>
          <h2>Financial Dashboard</h2>
          <p>Track your budget, set goals, and unlock smart insights.</p>
        </header>

        <section class="wrapper style5">
          <div class="inner">
            <ul class="actions fit">
              <li>
                <a href="Mentor_overview.html" class="button primary fit"
                  >Overview</a
                >
              </li>
              <li>
                <a href="Mentor_Budget.html" class="button fit">Budget</a>
              </li>
              <li><a href="Mentor_Goals.html" class="button fit">Goals</a></li>
              <li>
                <a href="Mentor_Smartmatching.html" class="button fit"
                  >Smart Matching</a
                >
              </li>
            </ul>

            <header style="margin-top: 2em">
              <h3 class="major">AI Overview</h3>
            </header>

            <div class="chat-box">
              <h3 class="align-center">Chat with Your Financial Assistant</h3>
              <h4 style="text-align: center; margin-bottom: 1em">
                Powered by MoneyMind AI
              </h4>
              <div id="chatHistory" class="chat-history"></div>
              <div class="row gtr-uniform">
                <div class="col-9 col-12-xsmall">
                  <input
                    type="text"
                    id="userInput"
                    placeholder="Ask anything about your finances..."
                  />
                </div>
                <div class="col-3 col-12-xsmall">
                  <input
                    type="button"
                    class="primary"
                    id="generateBtn"
                    value="Send"
                  />
                </div>
              </div>
            </div>

            <script type="importmap">
              {
                "imports": {
                  "@google/generative-ai": "https://esm.run/@google/generative-ai"
                }
              }
            </script>
            <script type="module">
              import { GoogleGenerativeAI } from "@google/generative-ai";
              const API_KEY = "AIzaSyDG0ypnnGPGQ3Skcd-iUgltPpTSopm1V4A";
              const genAI = new GoogleGenerativeAI(API_KEY);
              const chatHistory = document.getElementById("chatHistory");
              const userInput = document.getElementById("userInput");
              const generateBtn = document.getElementById("generateBtn");
              let conversation = [];

              async function generateText(prompt) {
                const model = genAI.getGenerativeModel({
                  model: "gemini-1.5-flash",
                });
                const loadingSpinner = document.createElement("div");
                loadingSpinner.innerText = "Thinking...";
                chatHistory.appendChild(loadingSpinner);

                try {
                  const result = await model.generateContent(prompt);
                  const response = await result.response;
                  const text = response.text();
                  conversation.push({ role: "user", text: prompt });
                  conversation.push({ role: "model", text: text });
                  updateChatHistory();
                } catch (error) {
                  conversation.push({
                    role: "model",
                    text: "Error generating response.",
                  });
                  updateChatHistory();
                } finally {
                  chatHistory.removeChild(loadingSpinner);
                }
              }

              function updateChatHistory() {
                chatHistory.innerHTML = "";
                conversation.forEach((msg) => {
                  const div = document.createElement("div");
                  div.classList.add("chat-message", msg.role);
                  if (msg.role === "user") {
                    div.innerText = `You: ${msg.text}`;
                  } else {
                    div.innerHTML =
                      `<strong>MoneyMind:</strong><br>` +
                      marked.parse(msg.text);
                  }
                  chatHistory.appendChild(div);
                });
              }

              generateBtn.addEventListener("click", () => {
                const prompt = userInput.value;
                if (prompt) {
                  generateText(prompt);
                  userInput.value = "";
                }
              });

              userInput.addEventListener("keypress", (e) => {
                if (e.key === "Enter") {
                  const prompt = userInput.value;
                  if (prompt) {
                    generateText(prompt);
                    userInput.value = "";
                  }
                }
              });
            </script>

            <h4 style="margin-top: 3em"><strong>Current Budget</strong></h4>
            <p>
              You're currently on track with 70% of your budget remaining for
              the month.
            </p>

            <canvas
              id="budgetChart"
              width="300"
              height="300"
              style="max-width: 300px; margin: 0 auto 2em; display: block"
            ></canvas>
            <script>
              const ctx = document
                .getElementById("budgetChart")
                .getContext("2d");
              const budgetChart = new Chart(ctx, {
                type: "doughnut",
                data: {
                  labels: ["Spent", "Remaining"],
                  datasets: [
                    { data: [30, 70], backgroundColor: ["#f56942", "#28a745"] },
                  ],
                },
                options: {
                  cutout: "70%",
                  plugins: {
                    legend: {
                      display: true,
                      position: "bottom",
                    },
                  },
                },
              });
            </script>

            <h4 style="margin-top: 3em"><strong>Goals</strong></h4>
            <p>
              You're 40% of the way to saving $500 for summer travel. Keep
              going!
            </p>

            <header style="margin-top: 3em">
              <h3 class="major">Smart Insights</h3>
            </header>
            <ul>
              <li>
                Your food spending is 10% higher than last week. Consider
                budgeting less for dining out.
              </li>
              <li>
                You might like <strong>Campus Threads</strong> for affordable
                Howard gear under $30.
              </li>
            </ul>
          </div>
        </section>
      </article>

      <footer id="footer">
        <ul class="icons">
          <li>
            <a href="#" class="icon brands fa-twitter"
              ><span class="label">Twitter</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-facebook-f"
              ><span class="label">Facebook</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-instagram"
              ><span class="label">Instagram</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-dribbble"
              ><span class="label">Dribbble</span></a
            >
          </li>
          <li>
            <a href="#" class="icon solid fa-envelope"
              ><span class="label">Email</span></a
            >
          </li>
        </ul>
        <ul class="copyright">
          <li>&copy; MoneyMind</li>
          <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
      </footer>
    </div>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
